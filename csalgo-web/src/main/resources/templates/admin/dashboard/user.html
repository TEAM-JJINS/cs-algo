<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{admin/dashboard/layout :: layout(~{::contentFragment})}">
<div th:fragment="contentFragment">
    <h3 class="fw-bold mb-4">회원 상세</h3>
    <p class="text-muted">회원의 상세 정보를 확인할 수 있습니다.</p>

    <div class="card shadow-sm">
        <div class="card-body">

            <div class="mb-4">
                <strong>회원 ID:</strong>
                <span th:text="${user.id}">1</span>
            </div>

            <div class="mb-4">
                <strong>이메일:</strong>
                <span th:text="${user.email}">jinlee1703@gmail.com</span>
            </div>

            <div class="mb-4">
                <strong>역할:</strong>
                <select id="roleSelect"
                        class="form-select d-inline-block w-auto"
                        th:value="${user.role}"
                        th:onchange="|updateUserRole(${user.id}, this.value)|">
                    <option value="USER" th:selected="${user.role == 'USER'}">USER</option>
                    <option value="ADMIN" th:selected="${user.role == 'ADMIN'}">ADMIN</option>
                </select>
            </div>

            <div class="mb-4">
                <strong>UUID:</strong>
                <span th:text="${user.uuid}">3c2e82ad-2951-4a63-8123-c975c7b50a55</span>
            </div>

            <div class="mb-4">
                <strong>가입일:</strong>
                <span th:text="${#temporals.format(user.createdAt, 'yyyy-MM-dd HH:mm')}">2025-08-16 09:36</span>
            </div>

            <div class="mb-4">
                <strong>수정일:</strong>
                <span th:text="${#temporals.format(user.updatedAt, 'yyyy-MM-dd HH:mm')}">2025-08-16 09:36</span>
            </div>
        </div>

        <div class="card-footer d-flex justify-content-between bg-white">
            <a th:href="@{/admin/dashboard/users}" class="btn btn-secondary">목록</a>
            <button class="btn btn-danger" type="button"
                    th:onclick="|deleteUser(${user.id})|">삭제
            </button>
        </div>
    </div>
    <script type="module" src="/js/user-update.js"></script>
    <script type="module" src="/js/user-delete.js"></script>
</div>
</html>
